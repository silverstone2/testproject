{% extends 'main/base.html' %}
{% load static %}
{% block content %}

    <h1>HELLO WORLD</h1>
    <h1 id="city"></h1>
    <p>{{ current_date }}</p>
    <p>{{ current_date|date:"Y년 m월 d일 H시 i분 s초"}}</p>
    <ul>
        <li>위도:<span id="latitude"></span></li>
        <li>경도:<span id="longitude"></span></li>
    </ul>
    <!-- scroll test -->
    <p>1</p>
    <p>1</p>
    <p>1</p>
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>1</p>
    <p>5</p>
    <p>3</p>
    <p>4</p>
    <p>5</p>
    <p>3</p>
    <p>2</p>
    <p>3</p>
    <p>1</p>
    <p>1</p>
    <p>1</p>
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>1</p>
    <p>5</p>
    <p>3</p>
    <p>4</p>
    <p>5</p>
    <p>3</p>
    <p>2</p>
    <p>3</p>


    <!-- google maps api -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key={APP_KEY}"></script>
    <script>
    $(function() {
        // Geolocation API에 액세스할 수 있는지를 확인
        if (navigator.geolocation) {
            //위치 정보를 얻기
            navigator.geolocation.getCurrentPosition (function(pos) {
                $('#latitude').html(pos.coords.latitude);   // 위도
                $('#longitude').html(pos.coords.longitude); // 경도
                console.log("lat: " + pos.coords.latitude + ", lon: " + pos.coords.longitude);
                let lat = pos.coords.latitude;
                let lon = pos.coords.longitude;
            });
        } else {
            alert("이 브라우저에서는 Geolocation이 지원되지 않습니다.")
        }
    });
    let geocoder = new google.maps.Geocoder;
    let latlng = {lat: parseFloat(position.coords.latitude), lng: parseFloat(position.coords.longitude)};
    geocoder.geocode({'location': latlng}, function(results, status) {
        console.log(results)
    });
    </script>
{% endblock %}